

\documentclass[runningheads,a4paper]{llncs}

\usepackage{amssymb}
\setcounter{tocdepth}{3}
\usepackage{graphicx}

\usepackage{url}
\urldef{\mailcf}\path|{berlin,borazio}@ess.informatik.tu-darmstadt.de, tobias.grosse-puppendahl@igd.fraunhofer.de|
\newcommand{\keywords}[1]{\par\addvspace\baselineskip
\noindent\keywordname\enspace\ignorespaces#1}

\begin{document}

\mainmatter  % start of an individual contribution

% first the title is needed
\title{Enhancing accelerometer-based activity recognition with capacitive proximity sensing}

% a short form should be given in case it is too long for the running head
\titlerunning{Enhancing accelerometer-based activity recognition}

% the name(s) of the author(s) follow(s) next
\author{Eugen Berlin, Marko Borazio, Tobias Grosse-Puppendahl}
%
\authorrunning{Enhancing accelerometer-based activity recognition}
% (feature abused for this document to repeat the title also on left hand pages)

% the affiliations are given next; don't give your e-mail address
% unless you accept that it will be published
\institute{TU Darmstadt, Karolinenplatz 5, 64289 Darmstadt, Germany\\
Fraunhofer IGD, Fraunhoferstr. 5, 64283 Darmstadt, Germany\\
\mailcf\\
}

\toctitle{Enhancing accelerometer-based activity recognition with capacitive proximity sensing}

\tocauthor{Eugen Berlin, Marko Borazio, Tobias Grosse-Puppendahl}
\maketitle
\begin{abstract}
Zwei flinke Boxer jagen die quirlige Eva und ihren Mops durch Sylt. Franz jagt im komplett verwahrlosten Taxi quer durch Bayern. Zwölf Boxkämpfer jagen Viktor quer über den großen Sylter Deich. Vogel Quax zwickt Johnys Pferd Bim. Sylvia wagt quick den Jux bei Pforzheim. Polyfon zwitschernd aßen Mäxchens Vögel Rüben, Joghurt und Quark. "Fix, Schwyz! " quäkt Jürgen blöd vom Paß. Victor jagt zwölf Boxkämpfer quer über den großen Sylter Deich. Falsches Üben von Xylophonmusik quält jeden größeren Zwerg. 
\keywords{AAL, capacitive proximity sensors, classification, user context}
\end{abstract}

\section{Introduction}
Current wearable activity recognizing systems are able to unobtrusively recognize a person’s activities throughout the whole day. These systems often apply accelerometer-based data recordings to identify the activities performed. However, it is a great challenge to identify fine-grained activities just by using this single modality. In this paper, we use an accelerometer-based activity recognition system, the wrist-worn HedgeHog device \cite{HedgeHog}. We investigate the possibility of integrating a capacitive proximity sensor unobtrusively into the wristband to obtain higher recognition rates for several activities in daily life.
Capacitive proximity sensors can indirectly measure the distance and nature of a grounded object within reach. This means that the measurement result depends on the object’s distance, its size and the material it is made of. A wristband worn capacitive proximity sensor requires a shield that eliminates the influence of the grounded arm directly underneath the sensor. Using this setup, we can detect the proximity to a grounded object in the environments for distances up to 20 cm. Especially for mobile devices, it is required that the sensor only draws a very small amount of power. Thus, other proximity sensing input modalities like ultrasound or optical measurements are not applicable for this type of mobile application.

[MB; EB: Introduction to HedgeHog device]

There are several intuitive examples for which a combination of accelerometer-based activity recognition with a capacitive proximity sensor reveals its strength. For example, it may be conducted which material is placed underneath the hand. The capacitive proximity sensor would return a different measurement result for a hand placed on a couch covered with fabric than a hand placed a wooden table. Moreover, the approximate distance to objects can be exploited to identify activities like grasping into a locker or a refridgerator to prepare food.

\section{Related Work}

[MB; EB: Related Work activity recognition]

In the field of capacitive proximity sensing, three different measurement modes shown in Figure \ref{fig:modes} were identified by Smith et al. \cite{Smith1999}: transmit mode, shunt mode and loading mode. Transmit mode is based on a varying electric potential coupled to an object that can be measured by a capacitive proximity sensor next to that object. Shunt mode applies two electrodes, a transmit and a receive electrode, that can measure capacitance changes produced by objects disturbing the electric field between the two electrodes. In loading mode, a single electrode builds up an electric field to any grounded object in the environment. By measuring the capacitance, conclusions can be made upon the proximity and nature of an object. In our work we apply loading mode since it requires only a single electrode that can be integrated invisibly into the wristband.

A great variety of capacitive sensors and measurement techniques exists \cite{Smith1999}. The most common sensing principle, the loading mode, is based on running numerous charge and discharge cycles of the virtual capacitor that is created by the electrode and the environment. Depending on the charge and discharge times, one can infer the corresponding capacitance. This sensing principle is applied by Wimmer et al. in [wimmer2006] who presented a toolkit for capacitive proximity sensing.

In previous works, capacitive proximity sensors were applied in various fields of human-computer-interaction. For example, Wimmer et al. and Grosse-Puppendahl et al. presented gesture recognition systems \cite{Wimmer,Grosse-puppendahl2012} as well as smart furniture that can sense and classify human postures \cite{Wimmer,Grosse-puppendahl2011}. Cheng et al. have investigated the possibility of using capacitive sensors for activity recognition by measuring shape changes of muscles and skin \cite{Cheng2010}. To our knowledge, capacitive proximity sensors have not been embedded into a wearable device to enhance the performance of activity recognition.

\section{Hardware}
\subsection{HedgeHog}
The HedgeHog sensor is a custom designed and built wearable data logger aiming at long-term deployments in activity recognition scenarios. Due to its small size (30x25x20mm) and weight, this sensor, being worn at the wrist, is an unobtrusive way to record relevant motion data.

The HedgeHog sensor is built around the low-power Microchip microcontroller (PIC18F46J50) featuring an accelerometer sensor (ADXL345) to capture human motion, light and ambient temperature sensors and a microSD flash card for locally storing the sensor data. The sensor is powered by a $200mAh$ lithium polymer battery, which allows two weeks of continuous recording on a single battery charge. A plastic case is used to nicely package and protect the sensor to be worn at the wrist.

\includegraphics[width=.75\textwidth]{sensor.png}
The accelerometer sensor is being sampled at $100Hz$, resulting in 10ms equidistant measurements. For efficiency reasons, the sensor data is being run length encoded before being stored locally.

The HedgeHog can be extended with further sensors tailoring different application scenarios. For our scenario, we have added a capacitive proximity sensor, which is described in detail in the next section.


\subsection{Capacitive Proximity Sensor}
power drain: 1mA when active
image : photo
image : board layout and schematics !

The capacitive proximity sensor for the wristband performs measurements in loading mode. The sensing circuit schematic is shown in Figure \ref{}. It is based on a timer that controls the charging and discharging cycles of the virtual capacitor. The timer toggles from charge to discharge at the time when a threshold voltage at the capacitor is reached. This results in an astable operation with succeeding charge/discharge cycles. When the capacitance of the virtual capacitor increases, the charging time will also increase and vice-versa. Therefore, the capacitance is inversely proportional to the number of charging cycles in a given time span. In order to guard the sensor from measuring the capacitance to underlying objects, a shield is placed directly underneath the measuring electrode. The shield is driven with the same potential as the sensing electrode, such that the the capacitance between the two electrodes is neglectable. Using this shielding method, the measured capacitance will only be slightly affected by the grounded underlying arm.

The proximity sensor board generates a clock signal with varying frequency depending on the proximity to body parts, objects and their characteristics. The HedgeHog therefore needs to measure the incoming frequency, which is implemented by counting the signal’s edges over the gate time of approximately 9.5ms.

pseudocode:
    sample the accelerometer sensor

start frequency counter

go to sleep for 9.5 ms

wake-up (timer interrupt)

stop frequency counter

read frequency count


\section{Experiment}

\subsection{Setup and Scenario}

The expirement setup aims to depict a typical scenario in daily life. Especially in the field of Ambient Assisted Living (AAL), it is desired to monitor activities like drinking, preparing lunch and sleeping. A fine-grained monitoring of such activities may help elderly or people suffering from mental diseases to maintain a healthy day/night rhythm and take action if irregularities occur.

The recorded test set contains the following activities: opening door, sitting on a couch, lying on a couch, grasping into a locker, putting something from a shelf, sitting at the table, preparing a bread with marmalade, eating bread, mould water, drinking water and sleeping. Some of those activities are very hard to recognize without context information, just using wrist-worn accelerometer data. For example, sitting at the table and sitting on a couch are very similar activities. The data of a capacitive proximity sensor can extend this data basis by providing that is related to the material an object is made of.

\begin{figure}[htbp]
	\centering
		\includegraphics[trim=2cm 0.5cm 2cm 0.5cm,width=1.00\textwidth]{Images/drinking.pdf}
	\caption{Drinking activity}
	\label{fig:drinking}
\end{figure}

\begin{figure}[htbp]
	\centering
		\includegraphics[trim=2cm 0.5cm 2cm 0.5cm,width=1.00\textwidth]{Images/making-bread.pdf}
	\caption{Preparing bread}
	\label{fig:making-bread}
\end{figure}



[EB: Hier plot von drinking und grasping into locker]

Figure \ref{fig:drinking} depicts the data that was recorded for the activity drinking water. The accelerometer data shows that there periodic up- and down-movements while the capacitive proximity sensor delivers data that is associated to the proximity of the table. The second Figure \ref{fig:opendoor} illustrates a grasp into a locker while preparing lunch. It is obvious that the locker’s bottom surface that is located very closely to the wristband has an influence on the proximity sensor.

In order to evaluate if capacitive proximity sensors in wrist-bands can enhance the performance of activity recognition, we have conducted an evaluation with ten test persons. All test persons received a plot with the activities they were supposed to perform. After manual labeling, we used this test-set as ground truth and performed a cross-validation on an support-vector machine (SVM) classifier once with and once without including the data of the capacitive proximity sensor into the feature set.

[EB MB: kurze Einführung in SVMs]

The classifier was trained with various features that were extracted from windows with the length of 5 seconds. In order to suppress noise contained in the capacitive proximity sensing data, we applied a Gaussian kernel with a size of [TODO] samples. The final feature set contained the arithmetic mean and standard variance of both accelerometer and proximity data. Moreover, we included the median, min and max features for both modalities.

\subsection{Evaluation Results}



\section{Conclusion and Outlook}

\section*{Acknowledgments}
We would like to thank the students of TU Darmstadt and the employees of Fraunhofer IGD that lent us their sitting and lying abilities for the evaluation. 

\newpage

\bibliographystyle{splncs03}
\bibliography{references}

\end{document}
